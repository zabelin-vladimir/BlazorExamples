(function(){var Browser={};Browser.UserAgent=navigator.userAgent.toLowerCase();Browser.Mozilla=false;Browser.IE=false;Browser.Firefox=false;Browser.Netscape=false;Browser.Safari=false;Browser.Chrome=false;Browser.Opera=false;Browser.Edge=false;Browser.Version=undefined;Browser.MajorVersion=undefined;Browser.WindowsPlatform=false;Browser.MacOSPlatform=false;Browser.MacOSMobilePlatform=false;Browser.AndroidMobilePlatform=false;Browser.PlaformMajorVersion=false;Browser.WindowsPhonePlatform=false;Browser.AndroidDefaultBrowser=false;Browser.AndroidChromeBrowser=false;Browser.SamsungAndroidDevice=false;Browser.WebKitTouchUI=false;Browser.MSTouchUI=false;Browser.TouchUI=false;Browser.WebKitFamily=false;Browser.NetscapeFamily=false;Browser.HardwareAcceleration=false;Browser.VirtualKeyboardSupported=false;Browser.Info="";function indentPlatformMajorVersion(userAgent){var regex=/(?:(?:windows nt|macintosh|mac os|cpu os|cpu iphone os|android|windows phone|linux) )(\d+)(?:[-0-9_.])*/;var matches=regex.exec(userAgent);if(matches)Browser.PlaformMajorVersion=matches[1]}function getIECompatibleVersionString(){if(document.compatible){for(var i=0;i<document.compatible.length;i++)if(document.compatible[i].userAgent==="IE"&&document.compatible[i].version)return document.compatible[i].version.toLowerCase()}return""}function IdentUserAgent(userAgent,ignoreDocumentMode){var browserTypesOrderedList=["Mozilla","IE","Firefox","Netscape","Safari","Chrome","Opera","Opera10","Edge"];var defaultBrowserType="IE";var defaultPlatform="Win";var defaultVersions={Safari:2,Chrome:.1,Mozilla:1.9,Netscape:8,Firefox:2,Opera:9,IE:6,Edge:12};if(!userAgent||userAgent.length==0){fillUserAgentInfo(browserTypesOrderedList,defaultBrowserType,defaultVersions[defaultBrowserType],defaultPlatform);return}userAgent=userAgent.toLowerCase();indentPlatformMajorVersion(userAgent);try{var platformIdentStrings={Windows:"Win",Macintosh:"Mac","Mac OS":"Mac",Mac_PowerPC:"Mac","cpu os":"MacMobile","cpu iphone os":"MacMobile",Android:"Android","!Windows Phone":"WinPhone","!WPDesktop":"WinPhone","!ZuneWP":"WinPhone"};var optSlashOrSpace="(?:/|\\s*)?";var version="(\\d+)(?:\\.((?:\\d+?[1-9])|\\d)0*?)?";var optVersion="(?:"+version+")?";var patterns={Safari:"applewebkit(?:.*?(?:version/"+version+"[\\.\\w\\d]*?(?:\\s+mobile/\\S*)?\\s+safari))?",Chrome:"(?:chrome|crios)(?!frame)"+optSlashOrSpace+optVersion,Mozilla:"mozilla(?:.*rv:"+optVersion+".*Gecko)?",Netscape:"(?:netscape|navigator)\\d*/?\\s*"+optVersion,Firefox:"firefox"+optSlashOrSpace+optVersion,Opera:"(?:opera|sopr)"+optSlashOrSpace+optVersion,Opera10:"opera.*\\s*version"+optSlashOrSpace+optVersion,IE:"msie\\s*"+optVersion,Edge:"edge"+optSlashOrSpace+optVersion};var browserType;var version=-1;for(var i=0;i<browserTypesOrderedList.length;i++){var browserTypeCandidate=browserTypesOrderedList[i];var regExp=new RegExp(patterns[browserTypeCandidate],"i");if(regExp.compile)regExp.compile(patterns[browserTypeCandidate],"i");var matches=regExp.exec(userAgent);if(matches&&matches.index>=0){if(browserType=="IE"&&version>=11&&browserTypeCandidate=="Safari")continue;browserType=browserTypeCandidate;if(browserType=="Opera10")browserType="Opera";var tridentPattern="trident"+optSlashOrSpace+optVersion;version=GetBrowserVersion(userAgent,matches,tridentPattern,getIECompatibleVersionString());if(browserType=="Mozilla"&&version>=11)browserType="IE"}}if(!browserType)browserType=defaultBrowserType;var browserVersionDetected=version!=-1;if(!browserVersionDetected)version=defaultVersions[browserType];var platform;var minOccurenceIndex=Number.MAX_VALUE;for(var identStr in platformIdentStrings){if(!platformIdentStrings.hasOwnProperty(identStr))continue;var importantIdent=identStr.substr(0,1)=="!";var occurenceIndex=userAgent.indexOf((importantIdent?identStr.substr(1):identStr).toLowerCase());if(occurenceIndex>=0&&(occurenceIndex<minOccurenceIndex||importantIdent)){minOccurenceIndex=importantIdent?0:occurenceIndex;platform=platformIdentStrings[identStr]}}var samsungPattern="SM-[A-Z]";var matches=userAgent.toUpperCase().match(samsungPattern);var isSamsungAndroidDevice=matches&&matches.length>0;if(platform=="WinPhone"&&version<9)version=Math.floor(getVersionFromTrident(userAgent,"trident"+optSlashOrSpace+optVersion));if(!ignoreDocumentMode&&browserType=="IE"&&version>7&&document.documentMode<version)version=document.documentMode;if(platform=="WinPhone")version=Math.max(9,version);if(!platform)platform=defaultPlatform;if(platform==platformIdentStrings["cpu os"]&&!browserVersionDetected)version=4;fillUserAgentInfo(browserTypesOrderedList,browserType,version,platform,isSamsungAndroidDevice)}catch(e){fillUserAgentInfo(browserTypesOrderedList,defaultBrowserType,defaultVersions[defaultBrowserType],defaultPlatform)}}function getVersionFromMatches(matches){var result=-1;var versionStr="";if(matches[1]){versionStr+=matches[1];if(matches[2])versionStr+="."+matches[2]}if(versionStr!=""){result=parseFloat(versionStr);if(isNaN(result))result=-1}return result}function getVersionFromTrident(userAgent,tridentPattern){var tridentDiffFromVersion=4;var matches=new RegExp(tridentPattern,"i").exec(userAgent);return getVersionFromMatches(matches)+tridentDiffFromVersion}function GetBrowserVersion(userAgent,matches,tridentPattern,ieCompatibleVersionString){var version=getVersionFromMatches(matches);if(ieCompatibleVersionString){var versionFromTrident=getVersionFromTrident(userAgent,tridentPattern);if(ieCompatibleVersionString==="edge"||parseInt(ieCompatibleVersionString)===versionFromTrident)return versionFromTrident}return version}function fillUserAgentInfo(browserTypesOrderedList,browserType,version,platform,isSamsungAndroidDevice){for(var i=0;i<browserTypesOrderedList.length;i++){var type=browserTypesOrderedList[i];Browser[type]=type==browserType}Browser.Version=Math.floor(10*version)/10;Browser.MajorVersion=Math.floor(Browser.Version);Browser.WindowsPlatform=platform=="Win"||platform=="WinPhone";Browser.MacOSPlatform=platform=="Mac";Browser.MacOSMobilePlatform=platform=="MacMobile";Browser.AndroidMobilePlatform=platform=="Android";Browser.WindowsPhonePlatform=platform=="WinPhone";Browser.WebKitFamily=Browser.Safari||Browser.Chrome||Browser.Opera&&Browser.MajorVersion>=15;Browser.NetscapeFamily=Browser.Netscape||Browser.Mozilla||Browser.Firefox;Browser.HardwareAcceleration=Browser.IE&&Browser.MajorVersion>=9||Browser.Firefox&&Browser.MajorVersion>=4||Browser.AndroidMobilePlatform&&Browser.Chrome||Browser.Chrome&&Browser.MajorVersion>=37||Browser.Safari&&!Browser.WindowsPlatform||Browser.Edge||Browser.Opera&&Browser.MajorVersion>=46;Browser.WebKitTouchUI=Browser.MacOSMobilePlatform||Browser.AndroidMobilePlatform;var isIETouchUI=Browser.IE&&Browser.MajorVersion>9&&Browser.WindowsPlatform&&Browser.UserAgent.toLowerCase().indexOf("touch")>=0;Browser.MSTouchUI=isIETouchUI||Browser.Edge&&!!window.navigator.maxTouchPoints;Browser.TouchUI=Browser.WebKitTouchUI||Browser.MSTouchUI;Browser.MobileUI=Browser.WebKitTouchUI||Browser.WindowsPhonePlatform;Browser.AndroidDefaultBrowser=Browser.AndroidMobilePlatform&&!Browser.Chrome;Browser.AndroidChromeBrowser=Browser.AndroidMobilePlatform&&Browser.Chrome;if(isSamsungAndroidDevice)Browser.SamsungAndroidDevice=isSamsungAndroidDevice;if(Browser.MSTouchUI){var isARMArchitecture=Browser.UserAgent.toLowerCase().indexOf("arm;")>-1;Browser.VirtualKeyboardSupported=isARMArchitecture||Browser.WindowsPhonePlatform}else{Browser.VirtualKeyboardSupported=Browser.WebKitTouchUI}fillDocumentElementBrowserTypeClassNames(browserTypesOrderedList)}function fillDocumentElementBrowserTypeClassNames(browserTypesOrderedList){var documentElementClassName="";var browserTypeslist=browserTypesOrderedList.concat(["WindowsPlatform","MacOSPlatform","MacOSMobilePlatform","AndroidMobilePlatform","WindowsPhonePlatform","WebKitFamily","WebKitTouchUI","MSTouchUI","TouchUI","AndroidDefaultBrowser","MobileUI"]);for(var i=0;i<browserTypeslist.length;i++){var type=browserTypeslist[i];if(Browser[type])documentElementClassName+="dx"+type+" "}documentElementClassName+="dxBrowserVersion-"+Browser.MajorVersion;if(document&&document.documentElement){if(document.documentElement.className!="")documentElementClassName=" "+documentElementClassName;document.documentElement.className+=documentElementClassName;Browser.Info=documentElementClassName}}IdentUserAgent(Browser.UserAgent);function Trim(str){return trimInternal(str,true,true)}var whiteSpaces={9:1,10:1,11:1,12:1,13:1,32:1,133:1,160:1,5760:1,6158:1,8192:1,8193:1,8194:1,8195:1,8196:1,8197:1,8198:1,8199:1,8200:1,8201:1,8202:1,8203:1,8232:1,8233:1,8239:1,8287:1,12288:1};function trimInternal(source,trimStart,trimEnd){var len=source.length;if(!len)return source;if(len<764833){var result=source;if(trimStart){result=result.replace(/^\s+/,"")}if(trimEnd){result=result.replace(/\s+$/,"")}return result}else{var start=0;if(trimEnd){while(len>0&&whiteSpaces[source.charCodeAt(len-1)]){len--}}if(trimStart&&len>0){while(start<len&&whiteSpaces[source.charCodeAt(start)]){start++}}return source.substring(start,len)}}function CloneObject(srcObject){if(typeof srcObject!="object"||srcObject==null)return srcObject;var newObject={};for(var i in srcObject)newObject[i]=srcObject[i];return newObject}function ElementHasCssClass(element,className){try{var elementClasses;var classList=GetClassNameList(element);if(!classList){var elementClassName=GetClassName(element);if(!elementClassName){return false}elementClasses=elementClassName.split(" ")}var classNames=className.split(" ");for(var i=classNames.length-1;i>=0;i--){if(classList){if(classList.indexOf(classNames[i])===-1)return false;continue}if(Data.ArrayIndexOf(elementClasses,classNames[i])<0)return false}return true}catch(e){return false}}function AddClassNameToElement(element,className){if(!element||typeof className!=="string")return;className=className.trim();if(!ElementHasCssClass(element,className)&&className!==""){var oldClassName=GetClassName(element);SetClassName(element,oldClassName===""?className:oldClassName+" "+className)}}function RemoveClassNameFromElement(element,className){if(!element)return;var elementClassName=GetClassName(element);var updClassName=" "+elementClassName+" ";var newClassName=updClassName.replace(" "+className+" "," ");if(updClassName.length!=newClassName.length)SetClassName(element,Trim(newClassName))}function GetClassNameList(element){return element.classList?[].slice.call(element.classList):GetClassName(element).replace(/^\s+|\s+$/g,"").split(/\s+/)}function GetClassName(element){if(element.tagName==="svg"){elementClassName=element.className.baseVal}else{elementClassName=element.className}return elementClassName}function SetClassName(element,className){if(element.tagName==="svg"){element.className.baseVal=Trim(className)}else{element.className=Trim(className)}}function getItemByIndex(collection,index){if(!index)index=0;if(collection!=null&&collection.length>index)return collection[index];return null}function GetNodesByTagName(element,tagName){var tagNameToUpper=tagName.toUpperCase();var result=null;if(element){if(element.getElementsByTagName){result=element.getElementsByTagName(tagNameToUpper);if(result.length===0){result=element.getElementsByTagName(tagName)}}else if(element.all&&element.all.tags!==undefined)result=Browser.Netscape?element.all.tags[tagNameToUpper]:element.all.tags(tagNameToUpper)}return result}function GetNodeByTagName(element,tagName,index){if(element!=null){var collection=GetNodesByTagName(element,tagName);return getItemByIndex(collection,index)}return null}function GetCurrentStyle(element){if(document.defaultView&&document.defaultView.getComputedStyle){var result=document.defaultView.getComputedStyle(element,null);if(!result&&Browser.Firefox&&window.frameElement){var changes=[];var curElement=window.frameElement;while(!(result=document.defaultView.getComputedStyle(element,null))){changes.push([curElement,curElement.style.display]);SetStylesCore(curElement,"display","block",true);curElement=curElement.tagName=="BODY"?curElement.ownerDocument.defaultView.frameElement:curElement.parentNode}result=CloneObject(result);for(var ch,i=0;ch=changes[i];i++)SetStylesCore(ch[0],"display",ch[1]);var dummy=document.body.offsetWidth}if(Browser.Firefox&&Browser.MajorVersion>=62&&window.frameElement&&result.length===0){result=CloneObject(result);result.display=element.style.display}return result}return window.getComputedStyle(element,null)}function CreateStyleSheetInDocument(doc){if(doc.createStyleSheet){try{return doc.createStyleSheet()}catch(e){var message="The CSS link limit (31) has been exceeded. Please enable CSS merging or reduce the number of CSS files on the page. For details, see http://www.devexpress.com/Support/Center/p/K18487.aspx.";throw new Error(message)}}else{var styleSheet=doc.createElement("STYLE");GetNodeByTagName(doc,"HEAD",0).appendChild(styleSheet);return styleSheet.sheet}}var currentStyleSheet=null;function GetCurrentStyleSheet(){if(!currentStyleSheet)currentStyleSheet=CreateStyleSheetInDocument(document);return currentStyleSheet}function SetStylesCore(element,property,value,makeImportant){if(makeImportant){var index=property.search("[A-Z]");if(index!=-1)property=property.replace(property.charAt(index),"-"+property.charAt(index).toLowerCase());if(element.style.setProperty)element.style.setProperty(property,value,"important");else element.style.cssText+=";"+property+":"+value+"!important"}else element.style[property]=value}function getParentByClassNameInternal(element,className,selector){while(element!=null){if(element.tagName=="BODY"||element.nodeName=="#document")return null;if(selector(element,className))return element;element=element.parentNode}return null}function GetParentByClassName(element,className){return getParentByClassNameInternal(element,className,ElementHasCssClass)}function RetrieveByPredicate(scourceCollection,predicate){var result=[];for(var i=0;i<scourceCollection.length;i++){var element=scourceCollection[i];if(!predicate||predicate(element))result.push(element)}return result}function FocusElement(selector){var element=document.querySelector(selector);if(element)element.focus()}function SetAttribute(element,attrName,attrValue){if(element)element[attrName]=attrValue}function AttachEventToElement(element,eventName,func,onlyBubbling,passive){if(element.addEventListener)element.addEventListener(eventName,func,{capture:!onlyBubbling,passive:!!passive});else element.attachEvent("on"+eventName,func)}function DetachEventFromElement(element,eventName,func){if(element.removeEventListener)element.removeEventListener(eventName,func,true);else element.detachEvent("on"+eventName,func)}function Log(message){}function EnsureElement(element){if(typeof element==="string"){var elRef=JSON.parse(element);if(elRef&&elRef.__internalId){var blid="_bl_"+elRef.__internalId;element=document.querySelector("["+blid+"]")}else{element=null}}return element}function SetInputAttribute(element,attrName,attrValue){element=EnsureElement(element);if(element)DxBlazor.Dom.SetAttribute(element,attrName,attrValue)}function QuerySelectorFromRoot(element,method){element.dataset.tempUniqueId="tempUniqueId";try{method("[data-temp-unique-id]")}catch(e){}finally{delete element.dataset.tempUniqueId}}function RemoveAttribute(element,attrName){if(obj.removeAttribute)obj.removeAttribute(attrName);else if(obj.removeProperty)obj.removeProperty(attrName)}function SetOrRemoveAttribute(obj,attrName,value){if(!value)RemoveAttribute(obj,attrName);else SetAttribute(obj,attrName,value)}function GetLeftRightBordersAndPaddingsSummaryValue(element,currentStyle){return GetLeftRightPaddings(element,currentStyle)+GetHorizontalBordersWidth(element,currentStyle)}function GetTopBottomBordersAndPaddingsSummaryValue(element,currentStyle){return GetTopBottomPaddings(element,currentStyle)+GetVerticalBordersWidth(element,currentStyle)}function GetLeftRightPaddings(element,style){var currentStyle=style?style:GetCurrentStyle(element);return parseInt(currentStyle.paddingLeft)+parseInt(currentStyle.paddingRight)}function GetTopBottomPaddings(element,style){var currentStyle=style?style:GetCurrentStyle(element);return parseInt(currentStyle.paddingTop)+parseInt(currentStyle.paddingBottom)}function GetVerticalBordersWidth(element,style){if(!style)style=Browser.IE&&Browser.MajorVersion!==9&&window.getComputedStyle?window.getComputedStyle(element):GetCurrentStyle(element);var res=0;if(style.borderTopStyle!=="none"){res+=parseFloat(style.borderTopWidth);if(Browser.IE&&Browser.MajorVersion<9)res+=getIe8BorderWidthFromText(style.borderTopWidth)}if(style.borderBottomStyle!=="none"){res+=parseFloat(style.borderBottomWidth);if(Browser.IE&&Browser.MajorVersion<9)res+=getIe8BorderWidthFromText(style.borderBottomWidth)}return res}function GetHorizontalBordersWidth(element,style){if(!style)style=Browser.IE&&window.getComputedStyle?window.getComputedStyle(element):GetCurrentStyle(element);var res=0;if(style.borderLeftStyle!=="none"){res+=parseFloat(style.borderLeftWidth);if(Browser.IE&&Browser.MajorVersion<9)res+=getIe8BorderWidthFromText(style.borderLeftWidth)}if(style.borderRightStyle!=="none"){res+=parseFloat(style.borderRightWidth);if(Browser.IE&&Browser.MajorVersion<9)res+=getIe8BorderWidthFromText(style.borderRightWidth)}return res}var requestAnimationFrameFunc=window.requestAnimationFrame||function(callback){callback()};var cancelAnimationFrameFunc=window.cancelAnimationFrame||function(id){};function RequestAnimationFrame(callback){return requestAnimationFrameFunc(callback)}var FrameContext=function(requestFrame){this.requestFrame=requestFrame;this.cache=[[]];this.isInFrame=false;this.isWaiting=false;this.getBuffer=function(order){if(!order)order=0;if(this.cache.length<=order)this.cache[order]=[];return this.cache[order]};this.execute=function(callback,order){if(!this.isInFrame)return false;var buffer=this.cache[order||0];if(buffer===null)callback(requestFrameId);else(buffer=this.getBuffer(order)).push(callback);return true};this.runAll=function(){this.isWaiting=false;this.isInFrame=true;for(var i=0;i<this.cache.length;i++){var buffer=this.cache[i];if(buffer){this.cache[i]=null;while(buffer.length)buffer.shift()(requestFrameId)}}this.waitNextFrame()};this.waitNextFrame=function(){this.cache=[[]];this.isInFrame=false;this.isWaiting=false};this.requestExecution=function(callback,order){if(!this.execute(callback,order)){this.getBuffer(order).push(callback);if(this.isWaiting===false){this.isWaiting=true;this.requestFrame(this.runAll.bind(this))}}}};var requestFrameId=null;function requestAnimationFrame(callback){return requestFrameId=RequestAnimationFrame(callback)}function createAccumulator(requestFrame){var context=new FrameContext(requestFrame);return context.requestExecution.bind(context)}var changeDom=createAccumulator(requestAnimationFrame);var calculateStyles=createAccumulator(function(callback){changeDom(function(){setTimeout(callback)})});var observers=[],minimumIntervalBetweenChecks=50;function itemObserver(element,callback,width){return function(){if(element.compareDocumentPosition(document.body)&Node.DOCUMENT_POSITION_DISCONNECTED)return false;var currentStyle=GetCurrentStyle(element);if(currentStyle.width==="auto")return true;var w=parseInt(currentStyle.width)-GetLeftRightBordersAndPaddingsSummaryValue(element);if(width!==w)callback(width=w);return true}}function subscribeElementContentWidth(el,callback){if(observers.length===0){observers.push(itemObserver(el,callback,-1));calculateStyles(updateTrackedElements)}else observers.push(itemObserver(el,callback,-1))}function elementSizeObserver(element,callback,size){return function(){if(element.compareDocumentPosition(document.body)&Node.DOCUMENT_POSITION_DISCONNECTED)return false;var currentStyle=GetCurrentStyle(element);if(currentStyle.width==="auto")return true;var elementWidth=parseInt(currentStyle.width)-GetLeftRightBordersAndPaddingsSummaryValue(element);var elementHeight=parseInt(currentStyle.height)-GetTopBottomBordersAndPaddingsSummaryValue(element);if(size.width!==elementWidth||size.height!==elementHeight){size.width=elementWidth;size.height=elementHeight;callback(size)}return true}}function subscribeElementContentSize(element,callback){if(observers.length===0){observers.push(elementSizeObserver(element,callback,{width:-1,height:-1}));calculateStyles(updateTrackedElements)}else observers.push(elementSizeObserver(element,callback,{width:-1,height:-1}))}function updateTrackedElements(){observers=observers.filter(function(observer){return observer()});if(observers.length>0){setTimeout(function(){calculateStyles(updateTrackedElements)},minimumIntervalBetweenChecks)}}function applyStyles(element,styles){var stylesArr=[];for(var property in styles){if(styles.hasOwnProperty(property))stylesArr.push({attr:property,value:styles[property]})}if(stylesArr.length===1){element.style[stylesArr[0].attr]=stylesArr[0].value}else{var cssText="";if(element.style.cssText){var oldStylesArr=element.style.cssText.split(";").map(function(nvp){return nvp.trim().split(":")});for(var i=0;i<oldStylesArr.length;i++){var oldStyleArr=oldStylesArr[i];if(oldStyleArr.length===2&&styles[oldStyleArr[0]]===undefined)cssText+=oldStyleArr[0]+":"+oldStyleArr[1].trim()+";"}}for(var i=0;i<stylesArr.length;i++){var style=stylesArr[i];if(style.value!=="")cssText+=style.attr+":"+style.value+";"}Attr.SetOrRemoveAttribute(element,"style",cssText)}}function applyStateToElement(element,state){if(state.inlineStyles===null)Attr.RemoveAttribute(element,"style");else applyStyles(element,state.inlineStyles);for(var attrName in state.attributes){if(state.attributes.hasOwnProperty(attrName))Attr.SetOrRemoveAttribute(element,attrName,state.attributes[attrName])}var allCssClasses=GetClassNameList(state);if(allCssClasses){var toggleInfo=state.cssClassToggleInfo;var cssClasses=allCssClasses.filter(function(c){return toggleInfo[c]!==false});for(var c in toggleInfo){if(toggleInfo.hasOwnProperty(c)&&toggleInfo[c]&&cssClasses.indexOf(c)===-1)cssClasses.push(c)}var cssClass=cssClasses.join(" ");if(cssClass)SetClassName(element,cssClass);else Attr.RemoveAttribute(element,"class")}}function createElementState(element){return{inlineStyles:{},cssClassToggleInfo:{},className:GetClassName(element),attributes:{}}}function updateElementState(elementOrCollection,callback){if(elementOrCollection.length!==undefined){for(var i=0;i<elementOrCollection.length;i++)updateElementState(elementOrCollection[i],callback);return}var element=elementOrCollection;if(!element._dxCurrentFrameElementStateInfo){callback(element._dxCurrentFrameElementStateInfo=createElementState(element));changeDom(function(){applyStateToElement(element,element._dxCurrentFrameElementStateInfo);element._dxCurrentFrameElementStateInfo=null},1)}else callback(element._dxCurrentFrameElementStateInfo)}function setStyles(el,styles){updateElementState(el,function(state){if(state.inlineStyles===null)state.inlineStyles=styles;else{for(var i in styles){if(styles.hasOwnProperty(i))state.inlineStyles[i]=styles[i]}}})}function clearStyles(el){updateElementState(el,function(state){state.inlineStyles=null})}function toggleCssClass(el,cssClass,condition){updateElementState(el,function(state){state.cssClassToggleInfo[cssClass]=condition})}function setCssClassName(el,className){updateElementState(el,function(state){state.cssClassToggleInfo={};state.className=className})}function updateAttribute(el,attrName,attrValue){updateElementState(el,function(state){state.attributes[attrName]=attrValue})}function nextChangeDOM(callback){changeDom(callback,2)}var Dom={FocusElement:FocusElement,SetAttribute:SetAttribute,SetInputAttribute:SetInputAttribute,AttachEventToElement:AttachEventToElement,DetachEventFromElement:DetachEventFromElement,EnsureElement:EnsureElement,Log:Log,RemoveAttribute:RemoveAttribute,SetOrRemoveAttribute:SetOrRemoveAttribute,ChangeDOM:changeDom,NextChangeDOM:nextChangeDOM,CalculateStyles:calculateStyles,SubscribeElementContentWidth:subscribeElementContentWidth,SubscribeElementContentSize:subscribeElementContentSize,SetStyles:setStyles,ClearStyles:clearStyles,ToggleCssClass:toggleCssClass,SetCssClassName:setCssClassName,UpdateAttribute:updateAttribute};function generateDisposeIdCore(){var id=(621355968e5+(new Date).getTime()).toString()+getRandomInt(1,1e3).toString();return id}function generateDisposeId(){var id;do{id=generateDisposeIdCore()}while(Disposable[id]);return id.toString()}function getRandomInt(min,max){return Math.floor(Math.random()*(max-min))+min}function DisposeEvents(element){if(element.dataset.disposeId)Disposable[element.dataset.disposeId]();delete Disposable[element.dataset.disposeId];delete element.dataset.disposeId}function RegisterDisposableEvents(element,dispose){if(!element.dataset.disposeId)element.dataset.disposeId=generateDisposeId();Disposable[element.dataset.disposeId]=dispose}var Disposable=[];var TouchUIHelper={touchMouseDownEventName:Browser.WebKitTouchUI?"touchstart":Browser.Edge&&Browser.MSTouchUI&&window.PointerEvent?"pointerdown":"mousedown",touchMouseUpEventName:Browser.WebKitTouchUI?"touchend":Browser.Edge&&Browser.MSTouchUI&&window.PointerEvent?"pointerup":"mouseup",touchMouseMoveEventName:Browser.WebKitTouchUI?"touchmove":Browser.Edge&&Browser.MSTouchUI&&window.PointerEvent?"pointermove":"mousemove"};function OnOutsideClick(evt,mainElement,onOutsireClick){var element=evt.target;while(element){if(element===mainElement)return false;element=element.parentElement}if(onOutsireClick)onOutsireClick()}function IsDropDownVisible(el){return el.style.display!=="none"}function Init(mainElement,input,dropDownElement,dotnetHelper){mainElement=EnsureElement(mainElement);input=EnsureElement(input);dropDownElement=EnsureElement(dropDownElement);if(!mainElement)return;DisposeEvents(mainElement);if(dropDownElement){var documentMDown=function(evt){return OnOutsideClick(evt,mainElement,function(){var willBlur=document.activeElement===input;var willBeClosed=dropDownElement&&IsDropDownVisible(dropDownElement);if(willBlur||willBeClosed)dotnetHelper.invokeMethodAsync("OnDropDownLostFocus",input.value)})};AttachEventToElement(document,TouchUIHelper.touchMouseDownEventName,documentMDown);RegisterDisposableEvents(mainElement,function(){DetachEventFromElement(document,TouchUIHelper.touchMouseDownEventName,documentMDown)})}return"ok"}function Dispose(mainElement){mainElement=EnsureElement(mainElement);if(!mainElement)return;DisposeEvents(mainElement)}var DropDown={Init:Init,Dispose:Dispose,IsDropDownVisible:IsDropDownVisible};var verticalScrollBarWidth;function GetVerticalScrollBarWidth(){if(typeof verticalScrollBarWidth=="undefined"){var container=document.createElement("DIV");container.style.cssText="position: absolute; top: 0px; left: 0px; visibility: hidden; width: 200px; height: 150px; overflow: hidden; box-sizing: content-box";document.body.appendChild(container);var child=document.createElement("P");container.appendChild(child);child.style.cssText="width: 100%; height: 200px;";var widthWithoutScrollBar=child.offsetWidth;container.style.overflow="scroll";var widthWithScrollBar=child.offsetWidth;if(widthWithoutScrollBar==widthWithScrollBar)widthWithScrollBar=container.clientWidth;verticalScrollBarWidth=widthWithoutScrollBar-widthWithScrollBar;document.body.removeChild(container)}return verticalScrollBarWidth}var Selectors={GridSelectedRow:".dxbs-table tr.table-active",ListBoxSelectedItem:".dropdown-item.active"};var ScrollFilteringTimeout=200;var ScrollPadding=300;function ScrollToSelectedItem(mainElement){var selectedRowElement=getListBoxSelectedItemElement(mainElement);if(!selectedRowElement)var selectedRowElement=getGridSelectedRowElement(mainElement);if(selectedRowElement){var scrollElement=mainElement;var above=scrollElement.scrollTop>selectedRowElement.offsetTop;var below=scrollElement.scrollTop+scrollElement.clientHeight<selectedRowElement.offsetTop+selectedRowElement.offsetHeight;if(above){Log("Grid: ScrollToSelectedItem("+scrollElement.scrollTop+" <= "+selectedRowElement.offsetTop);scrollElement.scrollTop=selectedRowElement.offsetTop}if(below){Log("Grid: ScrollToSelectedItem("+scrollElement.scrollTop+" <= "+(selectedRowElement.offsetTop-(scrollElement.clientHeight-selectedRowElement.offsetHeight)));scrollElement.scrollTop=selectedRowElement.offsetTop-(scrollElement.clientHeight-selectedRowElement.offsetHeight)}}}function getGridSelectedRowElement(dropDownElement){var glLbElement=null;QuerySelectorFromRoot(dropDownElement,function(rootQuery){glLbElement=dropDownElement.querySelector("*"+rootQuery+" > *[id$='_LB']")});if(!glLbElement){QuerySelectorFromRoot(dropDownElement.parentNode,function(rootQuery){glLbElement=dropDownElement.parentNode.querySelector("*"+rootQuery+" > *[id$='_LB']")})}return glLbElement?glLbElement.querySelector(Selectors.GridSelectedRow):null}function getListBoxSelectedItemElement(dropDownElement){var lbIdSelector=dropDownElement.querySelector("*[id$='_LB']");if(!lbIdSelector)lbIdSelector=dropDownElement.parentNode.querySelector("*[id$='_LB']");if(!lbIdSelector)lbIdSelector=dropDownElement;if(lbIdSelector){var lbSelectedItemElement=lbIdSelector.querySelector(Selectors.ListBoxSelectedItem);if(lbSelectedItemElement)return lbSelectedItemElement.parentNode}return null}function OnScroll(evt,dotnetHelper,options,scrollHeaderElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement){var scrollElement=evt.target;OnScrollInstant(evt,dotnetHelper,options,scrollElement,scrollHeaderElement);if(scrollElement.dataset.InScrollRequest)return;Log("Grid: OnScroll("+scrollElement.scrollHeight+" ,"+scrollElement.scrollTop+")");ClearVirtualScrollingTimer(scrollElement);scrollElement.dataset.OnScrollTimerId=window.setTimeout(function(){OnScrollSmoothed(evt,dotnetHelper,options,scrollElement,scrollHeaderElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement)},ScrollFilteringTimeout);window.setTimeout(function(){OnScrollInstant(evt,dotnetHelper,options,scrollElement,scrollHeaderElement)},0)}function OnScrollInstant(evt,dotnetHelper,options,scrollElement,scrollHeaderElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement){if(options.isHorizontalScrolling)scrollHeaderElement.scrollLeft=scrollElement.scrollLeft}function OnScrollSmoothed(evt,dotnetHelper,options,scrollElement,scrollHeaderElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement){ClearVirtualScrollingTimer(scrollElement);var scrollVertical=true;if(!scrollElement.dataset.prevScrollTop)scrollElement.dataset.prevScrollTop=scrollElement.scrollTop;else scrollVertical=scrollElement.dataset.prevScrollTop!=scrollElement.scrollTop.toString();if(scrollVertical&&options.isVirtualScrolling)EnsureItemsVisible(dotnetHelper,scrollElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement,false);OnScrollInstant(evt,dotnetHelper,options,scrollElement,scrollHeaderElement)}function ClearVirtualScrollingTimer(scrollElement){if(scrollElement.dataset.OnScrollTimerId){clearTimeout(scrollElement.dataset.OnScrollTimerId);delete scrollElement.dataset.OnScrollTimerId}}function GetDataElement(scrollElement){var dataTable=scrollElement.querySelector("table.dxbs-table");var dataList=scrollElement.parentNode.querySelector("div.dxbs-listbox > ul");var dataElement=dataTable||dataList;return dataElement}function InitScrollHeight(dotnetHelper,scrollElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement,options){var dataElement=GetDataElement(scrollElement);var sizes=CalculateSizes(dataElement,options);virtualScrollSpacerTopElement.style.height=sizes.spacerTop+"px";virtualScrollSpacerBottomElement.style.height=sizes.spacerBelow+"px";InitScrollPosition(scrollElement,dataElement,virtualScrollSpacerTopElement);Log("Grid: InitScrollHeight("+sizes.spacerTop+", "+sizes.spacerBelow+","+scrollElement.scrollTop+")")}function InitScrollPosition(scrollElement,dataElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement){if(scrollElement.clientHeight>dataElement.offsetHeight)return;if(scrollElement.scrollTop<virtualScrollSpacerTopElement.clientHeight){Log("Grid: InitScrollPosition.Correction1="+scrollElement.scrollTop+"<="+virtualScrollSpacerTopElement.clientHeight+1);scrollElement.scrollTop=virtualScrollSpacerTopElement.clientHeight+1}if(scrollElement.scrollTop+scrollElement.clientHeight>virtualScrollSpacerTopElement.clientHeight+dataElement.offsetHeight){Log("Grid: InitScrollPosition.Correction2="+scrollElement.scrollTop+"<="+virtualScrollSpacerTopElement.clientHeight+dataElement.offsetHeight-scrollElement.clientHeight-1);scrollElement.scrollTop=virtualScrollSpacerTopElement.clientHeight+dataElement.offsetHeight-scrollElement.clientHeight-1}}function getItems(dataElement){var items=[];dataElement.dataset.tempUniqueId="tempUniqueId";if(dataElement.tagName==="TABLE"){items=dataElement.parentNode.querySelectorAll("TABLE[data-temp-unique-id] > TBODY > TR")}else if(dataElement.tagName==="UL"){items=dataElement.parentNode.querySelectorAll("ul[data-temp-unique-id] > li")}delete dataElement.dataset.tempUniqueId;return items}function getItemHeight(dataElement){var items=getItems(dataElement);var itemHeights={};for(var i=0;i<items.length;i++){var item=items[i];itemHeights[item.offsetHeight]=itemHeights[item.offsetHeight]?itemHeights[item.offsetHeight]+1:1}var maxCountHeight=0;var maxCount=0;for(var height in itemHeights){if(itemHeights[height]>maxCount){maxCount=itemHeights[height];maxCountHeight=height}}return Number.parseInt(maxCountHeight)}function CalculateSizes(dataElement,options){var itemHeight=getItemHeight(dataElement);var spacerTop=options.VirtualScrollingOptions.ItemsAbove*itemHeight;var spacerBelow=options.VirtualScrollingOptions.ItemsBelow*itemHeight;return{itemHeight:itemHeight,spacerTop:spacerTop,spacerBelow:spacerBelow}}function HasParametersForVirtualScrollingRequest(scrollElement){var dataElement=GetDataElement(scrollElement);return dataElement!==null}function GetParametersForVirtualScrollingRequest(scrollElement,doNotUseScrollPaddingForInitShow){var scrollPaddingTop=300;var scrollPaddingBottom=300;if(doNotUseScrollPaddingForInitShow){scrollPaddingTop=0;scrollPaddingBottom=0}var dataElement=GetDataElement(scrollElement);var scrollTop=scrollElement.scrollTop-scrollPaddingTop;if(scrollTop<0)scrollTop=0;var scrollBottom=scrollElement.scrollTop+scrollElement.clientHeight+scrollPaddingBottom;var scrollTopForRequest=scrollTop-scrollPaddingTop;if(scrollTopForRequest<0)scrollTopForRequest=0;var scrollHeightForRequest=scrollBottom-scrollTopForRequest+scrollPaddingBottom;var itemHeight=getItemHeight(dataElement);return{itemHeight:itemHeight,scrollTop:scrollTop,scrollBottom:scrollBottom,scrollTopForRequest:scrollTopForRequest,scrollHeightForRequest:scrollHeightForRequest}}function EnsureItemsVisible(dotnetHelper,scrollElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement,doNotUseScrollPaddingForInitShow){var dataElement=GetDataElement(scrollElement);var tuple=GetParametersForVirtualScrollingRequest(scrollElement,doNotUseScrollPaddingForInitShow);var itemHeight=tuple.itemHeight;var scrollTop=tuple.scrollTop;var scrollBottom=tuple.scrollBottom;var scrollTopForRequest=tuple.scrollTopForRequest;var scrollHeightForRequest=tuple.scrollHeightForRequest;var topSpacerVisible=virtualScrollSpacerTopElement.clientHeight>0&&scrollTop<virtualScrollSpacerTopElement.offsetHeight;var bottomSpacerVisible=virtualScrollSpacerBottomElement.clientHeight>0&&scrollBottom>virtualScrollSpacerTopElement.offsetHeight+dataElement.offsetHeight;if(topSpacerVisible||bottomSpacerVisible){scrollElement.dataset.InScrollRequest=true;SendGridVirtualScroll(dotnetHelper,itemHeight,scrollTopForRequest,scrollHeightForRequest)}}function SendGridVirtualScroll(dotnetHelper,itemHeight,scrollTopForRequest,scrollHeightForRequest){if(!dotnetHelper.dxScrollCache){dotnetHelper.dxScrollCache={itemHeight:itemHeight,scrollTopForRequest:scrollTopForRequest,scrollHeightForRequest:scrollHeightForRequest}}else{if(dotnetHelper.dxScrollCache.itemHeight===itemHeight&&dotnetHelper.dxScrollCache.scrollTopForRequest===scrollTopForRequest&&dotnetHelper.dxScrollCache.scrollHeightForRequest===scrollHeightForRequest)return}dotnetHelper.invokeMethodAsync("OnGridVirtualScroll",itemHeight,scrollTopForRequest,scrollHeightForRequest)}function InitScollBarWidth(scrollElement,scrollHeaderElement,options){if(!options.isVerticalScrolling&&!options.isVirtualScrolling)return;if(HasVerticalScrollBar(scrollElement,options)){var defaulScrollBarWidth=17;var scrollBarWidth=GetVerticalScrollBarWidth();if(scrollBarWidth!==defaulScrollBarWidth||options.isHorizontalScrolling){var scrollbarPaddingElements=[scrollHeaderElement];var styleToZero=options.isHorizontalScrolling?"paddingRight":"marginRight";var styleToScrollBarSize=options.isHorizontalScrolling?"marginRight":"paddingRight";for(var i=0,len=scrollbarPaddingElements.length;i<len;i++){scrollbarPaddingElements[i].style[styleToZero]="0";scrollbarPaddingElements[i].style[styleToScrollBarSize]=scrollBarWidth+"px"}}}else{scrollElement.style["paddingRight"]="0";scrollElement.style["marginRight"]="0";scrollHeaderElement.style["paddingRight"]="0";scrollHeaderElement.style["marginRight"]="0"}}function AutoWidthCalculate(mainElement,scrollElement,scrollHeaderElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement,options){if(scrollElement){scrollElement.dataset.InScrollRequest=true;var scrollElementOverflowX_Backup=scrollElement.style.overflowX;scrollElement.style.overflowX="hidden";scrollElement.style.width="0"}if(scrollHeaderElement){var scrollHeaderElementOverflowX_Backup=scrollHeaderElement.style.overflowX;scrollHeaderElement.style.overflowX="hidden";scrollHeaderElement.style.width="0"}var width=mainElement.clientWidth;if(scrollElement){if(width)scrollElement.style.width=width+"px";scrollElement.style.overflowX=scrollElementOverflowX_Backup}if(scrollHeaderElement){var correction=HasVerticalScrollBar(scrollElement,options)?GetVerticalScrollBarWidth():0;if(width)scrollHeaderElement.style.width=width-correction+"px";scrollHeaderElement.style.overflowX=scrollHeaderElementOverflowX_Backup}if(scrollElement)delete scrollElement.dataset.InScrollRequest}function HasVerticalScrollBar(scrollElement,options){return(options.isVerticalScrolling||options.isVirtualScrolling)&&(scrollElement.clientHeight<scrollElement.scrollHeight||scrollElement.style.overflowY=="scroll")}function AutoWidthRequired(options){return options.isHorizontalScrolling||options.isVerticalScrolling}function Init$1(mainElement,scrollElement,scrollHeaderElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement,options,dotnetHelper,scrollToSelectedItemRequested){scrollElement=EnsureElement(scrollElement);if(!scrollElement)return;scrollHeaderElement=EnsureElement(scrollHeaderElement);scrollElement.dataset.InScrollRequest=true;DisposeEvents(scrollElement);mainElement=EnsureElement(mainElement);options=JSON.parse(options);if(options.isVirtualScrolling){virtualScrollSpacerTopElement=EnsureElement(virtualScrollSpacerTopElement);virtualScrollSpacerBottomElement=EnsureElement(virtualScrollSpacerBottomElement)}if(options.isVirtualScrolling||options.isVerticalScrolling)InitScollBarWidth(scrollElement,scrollHeaderElement,options);if(options.isVirtualScrolling){InitScrollHeight(dotnetHelper,scrollElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement,options);if(scrollToSelectedItemRequested)ScrollToSelectedItem(scrollElement)}delete scrollElement.dataset.InScrollRequest;var onScroll=function(evt){return OnScroll(evt,dotnetHelper,options,scrollHeaderElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement)};AttachEventToElement(scrollElement,"scroll",onScroll);if(AutoWidthRequired(options)){var onWindowResize=function(){AutoWidthCalculate(mainElement,scrollElement,scrollHeaderElement,virtualScrollSpacerTopElement,virtualScrollSpacerBottomElement,options)};onWindowResize();AttachEventToElement(window,"resize",onWindowResize)}RegisterDisposableEvents(scrollElement,function(){DetachEventFromElement(scrollElement,"scroll",onScroll);if(AutoWidthRequired(options)){DetachEventFromElement(window,"resize",onWindowResize)}ClearVirtualScrollingTimer(scrollElement)});return"ok"}function Dispose$1(mainElement){mainElement=EnsureElement(mainElement);if(!mainElement)return;DisposeEvents(mainElement)}var Grid={Init:Init$1,Dispose:Dispose$1,ScrollFilteringTimeout:ScrollFilteringTimeout,ScrollPadding:ScrollPadding,ScrollToSelectedItem:ScrollToSelectedItem};var BlurTimeout=200;var TimerToWaitForBlurAfterMouseDown=BlurTimeout/2;function ScrollToSelectedItem$1(mainElement){var dropDownElement=GetDropDownElement(mainElement);DxBlazor.Grid.ScrollToSelectedItem(dropDownElement)}function InputFocus(evt,dotnetHelper){var input=evt.target;hideNullText(input);setFocusedCssClass(input)}function PrepareInputIfFocused(input){input=EnsureElement(input);if(document.activeElement===input){hideNullText(input);setFocusedCssClass(input)}}function hideNullText(input){if(input&&!input.readOnly&&input.dataset.nullText&&input.value===input.dataset.nullText)input.value=""}function InputBlur(evt,dotnetHelper){var input=evt.target;clearBlurTimeout(input,true);input.dataset.timerId=window.setTimeout(function(){delete input.dataset.timerId;setBluredCssClass(input);if(document.activeElement!==input){try{CallLostFocusWithPreventDoubleCall(dotnetHelper,input)}catch(e){}}},BlurTimeout)}function clearBlurTimeout(input,preventRepeat){Log("ComboBox: clearBlurTimeout id="+input.dataset.timerId);if(input.dataset.timerId){clearTimeout(input.dataset.timerId);delete input.dataset.timerId}if(!preventRepeat){window.setTimeout(function(){clearBlurTimeout(input,true)},TimerToWaitForBlurAfterMouseDown)}}function setFocusedCssClass(input){if(input&&input.dataset.focusedClass)input.className=input.dataset.focusedClass}function setBluredCssClass(input){if(input&&input.dataset.bluredClass)input.className=input.dataset.bluredClass}function InputKeyDown(evt,filteringEnabled){if(filteringEnabled){DxBlazor.Filtering.KeyDown(evt)}if(needPreventDefault(evt)){evt.stopPropagation();evt.preventDefault()}return false}function InputKeyUp(evt,dotnetHelper,scrollElement,filteringEnabled){var needToSendEventToServer=false;if(filteringEnabled){needToSendEventToServer=needToSendEventToServer||DxBlazor.Filtering.KeyUp(evt)}needToSendEventToServer=needToSendEventToServer||isKeyBoardSupport(evt);if(needToSendEventToServer){var newText=evt.target.value;if(scrollElement&&HasParametersForVirtualScrollingRequest(scrollElement)){var tuple=GetParametersForVirtualScrollingRequest(scrollElement,false);var itemHeight=tuple.itemHeight;var scrollTopForRequest=tuple.scrollTopForRequest;var scrollHeightForRequest=tuple.scrollHeightForRequest;dotnetHelper.invokeMethodAsync("OnComboBoxListBoxKeyUp",newText,evt.keyCode,evt.altKey,evt.ctrlKey,itemHeight,scrollTopForRequest,scrollHeightForRequest)}else{dotnetHelper.invokeMethodAsync("OnComboBoxKeyUp",newText,evt.keyCode,evt.altKey,evt.ctrlKey)}}}function isKeyBoardSupport(evt){var dropDownToggleShortCut=evt.altKey&&(evt.keyCode==DxBlazor.Key.Down||evt.keyCode==DxBlazor.Key.Up);var navigationShortCut=isNavigationKey(evt);var enterCancelShortCut=evt.keyCode==DxBlazor.Key.Esc||evt.keyCode==DxBlazor.Key.Enter;return dropDownToggleShortCut||navigationShortCut||enterCancelShortCut}function isNavigationKey(evt){var a=evt.keyCode===DxBlazor.Key.Down||evt.keyCode===DxBlazor.Key.Up||evt.keyCode===DxBlazor.Key.PageUp||evt.keyCode===DxBlazor.Key.PageDown||evt.ctrlKey&&(evt.keyCode===DxBlazor.Key.Home||evt.keyCode===DxBlazor.Key.End);return a}function needPreventDefault(evt){return isNavigationKey(evt)}function CallLostFocusWithPreventDoubleCall(dotnetHelper,input,force){if(!input)return;var now=(new Date).getTime();var sameTime=input.dataset.lastLostFocusTime&&now-input.dataset.lastLostFocusTime<BlurTimeout+100;var doubleCallDetected=sameTime;if(doubleCallDetected&&!force){return}input.dataset.lastLostFocusTime=(new Date).getTime();dotnetHelper.invokeMethodAsync("OnComboBoxLostFocus",input.value)}function GetDropDownElement(mainElement){mainElement=EnsureElement(mainElement);return mainElement.querySelector("div.dxbs-dm.dropdown-menu")}function Init$2(mainElement,input,dotnetHelper,filteringEnabled,hasJustBeenShown){filteringEnabled=filteringEnabled.toLowerCase()==="true";hasJustBeenShown=hasJustBeenShown.toLowerCase()==="true";mainElement=EnsureElement(mainElement);input=EnsureElement(input);var dropDownElement=GetDropDownElement(mainElement);var scrollElement=dropDownElement;if(hasJustBeenShown){DxBlazor.ComboBox.ScrollToSelectedItem(mainElement)}if(!mainElement)return;DisposeEvents(mainElement);var onKeyDown=function(evt){return InputKeyDown(evt,filteringEnabled)};var onKeyUp=function(evt){return InputKeyUp(evt,dotnetHelper,scrollElement,filteringEnabled)};var onInputFocus=function(evt){return InputFocus(evt)};var onInputBlur=function(evt){return InputBlur(evt,dotnetHelper)};var stopBlurTimer=function(evt){return clearBlurTimeout(input)};var documentMDown=function(evt){return OnOutsideClick(evt,mainElement,function(){var willBlur=document.activeElement===input;var isAboutToBlur=input.dataset.timerId>0;var willBeClosed=dropDownElement&&IsDropDownVisible(dropDownElement);clearBlurTimeout(input);if(willBlur||isAboutToBlur||willBeClosed)CallLostFocusWithPreventDoubleCall(dotnetHelper,input,true)})};AttachEventToElement(input,"keydown",onKeyDown);AttachEventToElement(input,"keyup",onKeyUp);AttachEventToElement(input,"focus",onInputFocus);AttachEventToElement(input,"blur",onInputBlur);AttachEventToElement(mainElement,"mousedown",stopBlurTimer);AttachEventToElement(document,TouchUIHelper.touchMouseDownEventName,documentMDown);RegisterDisposableEvents(mainElement,function(){DetachEventFromElement(input,"keydown",onKeyDown);DetachEventFromElement(input,"keyup",onKeyUp);DetachEventFromElement(input,"focus",onInputFocus);DetachEventFromElement(input,"blur",onInputBlur);DetachEventFromElement(mainElement,"mousedown",stopBlurTimer);DetachEventFromElement(document,TouchUIHelper.touchMouseDownEventName,documentMDown)});return"ok"}function Dispose$2(mainElement){mainElement=EnsureElement(mainElement);if(!mainElement)return;DisposeEvents(mainElement)}var ComboBox={Init:Init$2,Dispose:Dispose$2,ScrollToSelectedItem:ScrollToSelectedItem$1,PrepareInputIfFocused:PrepareInputIfFocused};function KeyDown(evt){if(KeyCodeDoesNotChangeText(evt.keyCode))return;var input=evt.target;input.dataset.previousValue=evt.target.value}function KeyUp(evt){if(KeyCodeDoesNotChangeText(evt.keyCode))return false;var input=evt.target;var inputValueHasNotBeenChanged=input&&input.dataset["previousValue"]===evt.target.value;var needToProcessFiltration=!inputValueHasNotBeenChanged;return needToProcessFiltration}function KeyCodeDoesNotChangeText(keyCode){if(keyCode==DxBlazor.Key.Tab)return true;if(16<=keyCode&&keyCode<=20)return true;return false}var Filtering={KeyDown:KeyDown,KeyUp:KeyUp};var BootstrapCore={};BootstrapCore.BootstrapMode="Bootstrap4";BootstrapCore.IsBootstrap3=BootstrapCore.BootstrapMode=="Bootstrap3";BootstrapCore.IsBootstrap4=BootstrapCore.BootstrapMode=="Bootstrap4";BootstrapCore.zIndexCategories={dropdown:1e3,sticky:1020,fixed:1030,modalBackdrop:1040,modal:1050,popover:1060,tooltip:1070};var BootstrapCssSelectorsPanel=BootstrapCore.IsBootstrap3?"panel":"card";var BootstrapCssSelectorsControlLabel=BootstrapCore.IsBootstrap3?"control-label":"col-form-label";var BootstrapCssSelectorsHelpBlock=BootstrapCore.IsBootstrap3?"help-block":"form-text";var mediaQueryScreenSizesCache={};function createCssRuleForScreenSizeMediaQuery(cssVarName,fallbackWidth,cssRule){var cache=mediaQueryScreenSizesCache;var minWidth=cache[cssVarName]||(cache[cssVarName]=GetCurrentStyle(document.body).getPropertyValue(cssVarName)||fallbackWidth);if(minWidth){var styleSheet=GetCurrentStyleSheet();if(styleSheet)styleSheet.insertRule("@media (min-width: "+minWidth+") {\n"+cssRule+"\n}\n",styleSheet.cssRules.length)}}function createCssRuleForLargeScreen(cssRule){createCssRuleForScreenSizeMediaQuery("--breakpoint-lg","992px",cssRule)}var FL_CLASS="dxbs-fl",CALC_CLASS="dxbs-fl-calc";var patternRegex=/\./g;function encodeDotsForMediaQuiery(value){return value.replace(patternRegex,"\\$&")}function DxFormLayoutInit(id){createAdaptivityCssRules();function GetMainElement(){return document.getElementById(id)}function createAdaptivityCssRules(id){var width=0;var mainElement=GetMainElement();AddClassNameToElement(mainElement,CALC_CLASS);{width=getMaxCaptionWidth(mainElement,true);createAdaptivityCssRulesForElements(GetMainElement(),width)}RemoveClassNameFromElement(mainElement,CALC_CLASS)}function getFilteredElements(elements){var mainElement=GetMainElement();return RetrieveByPredicate(elements,function(el){return GetParentByClassName(el,FL_CLASS)==mainElement})}function getMaxCaptionWidth(container,recursive){var width=0;var elements=getCaptionElements(container,recursive);for(var i=0;i<elements.length;i++){var captionWidth=elements[i].offsetWidth;if(captionWidth>width&&captionWidth<elements[i].parentNode.offsetWidth)width=captionWidth}return width>0?width+(Browser.HardwareAcceleration?1:0):0}function getAdaptivityCssRulesPrefix(container){var mainElement=GetMainElement();var prefix="#"+encodeDotsForMediaQuiery(id)+".dxbs-fl.form-horizontal ";if(container!=mainElement)prefix+="#"+encodeDotsForMediaQuiery(container.id)+" ";var flElement=mainElement;while(true){flElement=GetParentByClassName(flElement.parentNode,FL_CLASS);if(flElement)prefix="#"+encodeDotsForMediaQuiery(flElement.id)+" "+prefix;else break}return prefix}function createAdaptivityCssRulesForElements(container,width){if(width===0)return;if(!container.itemCaptionWidth||width>container.itemCaptionWidth){container.itemCaptionWidth=width;var mediaRulePrefix=getAdaptivityCssRulesPrefix(container);mediaRule=mediaRulePrefix+".form-group > .dxbs-fl-cpt {\n width:"+width+"px;\n}\n";mediaRule+=mediaRulePrefix+".form-group > .dxbs-fl-ctrl:not(img):not(.dxbs-fl-ctrl-nc) {\n width: calc(100% - "+width+"px);\n}\n";mediaRule+=mediaRulePrefix+".form-group > .dxbs-textbox:not(img):not(.dxbs-fl-ctrl-nc) {\n width: calc(100% - "+width+"px);\n}\n";mediaRule+=mediaRulePrefix+".form-group > .dxbs-dropdown-edit:not(img):not(.dxbs-fl-ctrl-nc) {\n width: calc(100% - "+width+"px);\n}\n";mediaRule+=mediaRulePrefix+".form-group > .dxbs-spin-edit:not(img):not(.dxbs-fl-ctrl-nc) {\n width: calc(100% - "+width+"px);\n}\n";mediaRule+=mediaRulePrefix+".row > div > ."+BootstrapCssSelectorsHelpBlock+" {\n margin-left: "+width+"px;\n}\n";createCssRuleForLargeScreen(mediaRule)}}function getCaptionElements(container,recursive){if(recursive)return getFilteredElements(container.querySelectorAll(".dxbs-fl-cpt."+BootstrapCssSelectorsControlLabel));return container.querySelectorAll("#"+container.id+" > .row > div:not(.dxbs-fl-g):not(.dxbs-fl-gd):not(.dxbs-fl-gt) > .form-group > ."+BootstrapCssSelectorsControlLabel+", "+"#"+container.id+".dxbs-fl-gd > ."+BootstrapCssSelectorsPanel+" > .row > div:not(.dxbs-fl-g):not(.dxbs-fl-gd):not(.dxbs-fl-gt) > .form-group > ."+BootstrapCssSelectorsControlLabel+", "+"#"+container.id+".dxbs-fl-gt > .dxbs-tabs > .tab-content > .tab-pane > .row > div:not(.dxbs-fl-g):not(.dxbs-fl-gd):not(.dxbs-fl-gt) > .form-group > ."+BootstrapCssSelectorsControlLabel)}}function Init$3(mainElement,dropDownDateNavigatorElement,dotnetHelper){mainElement=EnsureElement(mainElement);dropDownDateNavigatorElement=EnsureElement(dropDownDateNavigatorElement);var horizontalTimeCells=getHorizontalTimeCells(mainElement);var verticalTimeCells=getVerticalTimeCells(mainElement);if(!mainElement)return;adjustControl();showAppointments(mainElement);initEvents(mainElement,dropDownDateNavigatorElement,dotnetHelper);function adjustControl(){var hApts=getHorizontalAppointments(mainElement);var vApts=getVerticalAppointments(mainElement);prepareAppointments(horizontalTimeCells,hApts);prepareAppointments(verticalTimeCells,vApts);var hTimeCells=getHorizontalTimeCells(mainElement);calculateHorizontalAppointments(hApts);calculateHorizontalCellsHeight(hTimeCells);calculateVerticalAppointments(vApts);calculateTimeMarker(mainElement,verticalTimeCells)}function initEvents(mainElement,dropDownDateNavigatorElement,dotnetHelper){InitPopupDateNavigatorEvents(mainElement,dropDownDateNavigatorElement,dotnetHelper);DxBlazor.Dom.SubscribeElementContentWidth(mainElement,adjustControl)}return"ok"}function getHorizontalTimeCells(container){return container.querySelectorAll(".dxbs-sc-all-day-area")}function getVerticalTimeCells(container){return container.querySelectorAll(".dxbs-sc-time-cell")}function getVerticalAppointmentsContainer(container){return container.querySelectorAll(".dxbs-sc-vertical-apts")[0]}function getHorizontalAppointmentsContainer(container){return container.querySelectorAll(".dxbs-sc-horizontal-apts")[0]}function getHorizontalAppointments(container){return container.querySelectorAll(".dxbs-sc-horizontal-apt")}function getVerticalAppointments(container){return container.querySelectorAll(".dxbs-sc-vertical-apt")}function getTimeMarkerContainer(container){return container.querySelectorAll(".dxbs-sc-time-marker")[0]}function getTimeIndicatorContainer(container){return container.querySelectorAll(".dxbs-sc-time-indicator")[0]}function getContainerIndex(el){return el.getAttribute("data-container-index")}function getAppointmentFirstCellIndex(el){return parseInt(el.getAttribute("data-first-cell-index"))}function getAppointmentLastCellIndex(el){return parseInt(el.getAttribute("data-last-cell-index"))}function getAppointmentColumnsCount(el){return parseInt(el.getAttribute("data-columns-count"))}function getAppointmentColumn(el){return parseInt(el.getAttribute("data-column"))}function showAppointments(mainElement){getVerticalAppointmentsContainer(mainElement).style.display="";getHorizontalAppointmentsContainer(mainElement).style.display=""}function prepareAppointments(cellList,apts){var cells={};for(var i=0,item;item=cellList[i];i++){item.intersects=[];var index=getContainerIndex(item);if(!cells[index])cells[index]=[];cells[index].push(item)}apts.forEach(function(apt){var containerIndex=getContainerIndex(apt),firstCellIndex=getAppointmentFirstCellIndex(apt),lastCellIndex=getAppointmentLastCellIndex(apt);apt.firstCell=cells[containerIndex][firstCellIndex];apt.lastCell=cells[containerIndex][lastCellIndex]})}function calculateHorizontalAppointments(apts){apts.forEach(function(aptEl){var index=getAppointmentColumn(aptEl);var top=aptEl.firstCell.offsetTop+aptEl.offsetHeight*index;aptEl.style.top=top+"px";addIntersect(aptEl.firstCell,aptEl);aptEl.style.left=aptEl.firstCell.offsetLeft+"px";if(aptEl.lastCell===aptEl.firstCell)aptEl.style.width=aptEl.firstCell.offsetWidth+"px";else aptEl.style.width=aptEl.lastCell.offsetLeft-aptEl.firstCell.offsetLeft+aptEl.firstCell.offsetWidth+"px"})}function calculateHorizontalCellsHeight(cells){var maxHeight=0;for(var i=0,cell;cell=cells[i];i++){var height=0;cell.intersects.forEach(function(el){height+=el.offsetHeight});if(height>maxHeight)maxHeight=height}cells[0].style.height=maxHeight+15+"px"}function calculateVerticalAppointments(apts){apts.forEach(function(aptEl){var index=getAppointmentColumn(aptEl);var width=aptEl.firstCell.offsetWidth/getAppointmentColumnsCount(aptEl);aptEl.style.top=aptEl.firstCell.offsetTop+"px";aptEl.style.left=aptEl.firstCell.offsetLeft+width*index+"px";aptEl.style.width=width-10+"px";aptEl.style.height=aptEl.lastCell.offsetTop+aptEl.lastCell.offsetHeight-aptEl.firstCell.offsetTop+"px"})}function addIntersect(el,apt){if(el.intersects.findIndex(function(item){return item.getAttribute("data-id")===apt.getAttribute("data-id")})<0)el.intersects.push(apt)}function InitPopupDateNavigatorEvents(mainElement,dropDownElement,dotnetHelper){DisposeEvents(mainElement);var documentMDown=function(evt){return OnOutsideClick$1(evt,dropDownElement,function(){var willBeClosed=dropDownElement&&typeof dropDownElement!=="string"&&dropDownElement.style.display!=="none";if(willBeClosed)dotnetHelper.invokeMethodAsync("OnDropDownDateNavigatorLostFocus")})};AttachEventToElement(document,TouchUIHelper.touchMouseDownEventName,documentMDown);RegisterDisposableEvents(mainElement,function(){DetachEventFromElement(document,TouchUIHelper.touchMouseDownEventName,documentMDown)})}function getStartAttribute(el){var time=new Date(parseInt(el.getAttribute("data-start")));var newLocalTime=time.getTime()+time.getTimezoneOffset()*6e4+0;return new Date(newLocalTime)}function getEndAttribute(el){var time=new Date(parseInt(el.getAttribute("data-end")));var newLocalTime=time.getTime()+time.getTimezoneOffset()*6e4+0;return new Date(newLocalTime)}function calculateTimeMarker(mainElement,verticalTimeCells){var time=getCurrentLocalTime();var date=truncToDate(time);var timeMarkerContainer=getTimeMarkerContainer(mainElement);var timeIndicatorContainer=getTimeIndicatorContainer(mainElement);if(!timeIndicatorContainer)return;var cell=findCellByTime(verticalTimeCells,time);if(!cell){timeMarkerContainer.style.display="none";timeIndicatorContainer.style.display="none";return}else{timeMarkerContainer.style.display="";timeIndicatorContainer.style.display=""}var top=Math.floor(calculateTop(time,cell,date));timeMarkerContainer.style.top=top-timeMarkerContainer.offsetHeight/2+"px";timeMarkerContainer.style.width=cell.offsetLeft+timeMarkerContainer.offsetHeight/2+1+"px";if(isElementDisplayed(timeIndicatorContainer)){timeIndicatorContainer.style.top=top-1+"px";timeIndicatorContainer.style.width=cell.offsetWidth+"px";timeIndicatorContainer.style.left=cell.offsetLeft+"px"}function getAdaptedContainerTime(startCell,dateTime){var start=startCell;var dayTimeDelta=dateSubsWithTimezone(dateTime,start);var dateTimeDuration=Math.abs(dayTimeDelta);var dayTime=dateTimeDuration%(24*60*60*1e3);if(dayTimeDelta<0)dayTime=24*60*60*1e3-dayTime;return dateIncreaseWithUtcOffset(start,dayTime)}function calculateTop(time,currentTimeCell,startCell){var adaptedContainerTime=getAdaptedContainerTime(startCell,time);var start=getStartAttribute(currentTimeCell);var end=getEndAttribute(currentTimeCell);var remainderDuration=dateSubsWithTimezone(adaptedContainerTime,start);return currentTimeCell.offsetTop+currentTimeCell.offsetHeight*remainderDuration/(end-start)}}function findCellByTime(verticalTimeCells,time){var result;for(var i=0,el;el=verticalTimeCells[i];i++){if(time-getStartAttribute(el)>=0&&getEndAttribute(el)-time>0)result=el}return result}function getCurrentLocalTime(clientUtcOffset){var time=new Date;var newLocalTime=time.getTime();return new Date(newLocalTime)}function dateIncrease(date,spanInMilliseconds){return new Date(date.valueOf()+spanInMilliseconds)}function dateIncreaseWithUtcOffset(date,spanInMilliseconds){var result=dateIncrease(date,spanInMilliseconds);var utcDiff=(result.getTimezoneOffset()-date.getTimezoneOffset())*6e4;return dateIncrease(result,utcDiff)}function dateSubsWithTimezone(date1,date2){return date1-date2+(date2.getTimezoneOffset()-date1.getTimezoneOffset())*6e4}function truncToDate(dateTime){return new Date(dateTime.getFullYear(),dateTime.getMonth(),dateTime.getDate())}function isElementDisplayed(element){return element&&element.style.display!=="none"}function OnOutsideClick$1(evt,element,onOutsireClick){var targetElement=evt.target;while(targetElement){if(targetElement===element)return false;targetElement=targetElement.parentElement}if(onOutsireClick)onOutsireClick()}function Dispose$3(mainElement){mainElement=EnsureElement(mainElement);if(mainElement)DisposeEvents(mainElement)}var Scheduler={Init:Init$3,Dispose:Dispose$3};var Key={Enter:13,Home:36,End:35,Up:38,Down:40,PageUp:33,PageDown:34,Esc:27,Tab:9};window.DxBlazor={DropDown:DropDown,Filtering:Filtering,DxFormLayoutInit:DxFormLayoutInit,Scheduler:Scheduler,Key:Key,ComboBox:ComboBox,Dom:Dom,Grid:Grid}})();